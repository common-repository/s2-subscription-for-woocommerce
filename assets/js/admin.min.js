jQuery(document).ready(function(e){jQuery(document).on("click",".load_customer_info",function(e){e.preventDefault();e=jQuery(this);!function(i,t){var e=i==t?"load_"+i:"copy_billing";if(!0===void 0||window.confirm(s2_admin[e])){e=jQuery("#user_id").val();if(0==e)return window.alert(s2_admin.no_customer_selected);e={user_id:e,action:"woocommerce_get_customer_details",security:s2_admin.get_customer_details_nonce};jQuery.ajax({url:s2_admin.ajaxurl,data:e,type:"POST",success:function(e){e&&e[i]&&jQuery.each(e[i],function(e,i){jQuery("#_"+t+"_"+e).val(i).change()})}})}}(e.data("from"),e.data("to"))}),jQuery(document).on("click","a.edit_address",function(e){e.preventDefault();var i=jQuery(this),t=i.closest(".order_data_column").find("div.edit_address"),e=i.closest(".order_data_column").find("a");i.closest(".order_data_column").find("div.address").toggle(),e.toggle(),t.toggle()});function n(e,i,t){var n=s2_admin.woocommerce_currency_symbol,a=(a=t||i)?parseFloat(a):0,r=e.find(".s2_payment_type").val(),o=(e.find(".s2_price_is_per").val(),e.find(".s2_price_time_option").val(),(o=e.find(".s2_max_length").val())?parseInt(o):0),_=e.find(".s2_sign_up_fee").val(),s=a+(_=_?parseFloat(_):0),d=(e.find(".s2_trial_per").val(),e.find(".s2_trial_time_option").val(),e.find(".s2_billing_frequency").val()),c=e.find(".s2_trial_period").val(),t=e.find(".s2_split_payment").val(),t=parseInt(t),i=(e.find(".s2_limit_quantity_available").val(),e.find(".s2_quantity_limit").val(),"");"one_time_fee"==r?i="Your customer will be charged "+(_?" with signup fee ":"")+n+(c&&"none"==c?s.toFixed(2):_||0)+" immediately "+(c&&"none"!=c?" for their "+c+" trial":"")+", and then "+n+a:"subscription"==r?i="Your customer will be charged "+(_?" with signup fee ":"")+n+(c&&"none"==c?s.toFixed(2):_||0)+" immediately "+(c&&"none"!=c?" for their "+c+" trial":"")+", and then "+n+a+" "+d+(o?", "+o+" times. The total amount paid for the product will be "+n+(a*(o?o-1:1)+s).toFixed(2)+".":" until they cancel."):"split_pay"==r&&(i="Your customer will be charged "+n+(a=(a/=t).toFixed(2))+" immediately, and then "+n+a+" every month for the next "+(t-1)+(t-1==1?" month.":" months.")+" The total amount paid for the product will be "+n+a*t+"."),e.find("span.subscription-description").text(i)}jQuery(document).on("change keyup","#subscription_product_data input, #subscription_product_data select",function(){var e=jQuery(this).parents("div.subscription-data"),i=jQuery("div.product_data").find(".wc_input_price[name^=_regular_price]").val(),t=jQuery("div.product_data").find(".wc_input_price[name^=_sale_price]").val();n(e,i,t)}),jQuery(document).on("change keyup","#subscription_variable_product_data input, #subscription_variable_product_data select, .wc_input_price[name^=variable_regular_price], .wc_input_price[name^=variable_sale_price]",function(){var e=jQuery(this).parents("div.woocommerce_variable_attributes"),i=e.find(".wc_input_price[name^=variable_regular_price]").val(),t=e.find(".wc_input_price[name^=variable_sale_price]").val();n(e,i,t)}),jQuery(document).on("change",".s2_payment_type",function(){var t="";jQuery.each(this,function(e,i){t=jQuery(i).val(),jQuery(this).parents("p.form-field").siblings(".show_if_"+t).hide()}),(t=jQuery(this).val())&&(jQuery(this).parents("p.form-field").siblings(".show_if_"+t).show(),jQuery(this).parents("p.form-field").siblings(":not(.show_if_"+t+")").find("input").val(""),jQuery(this).parents("p.form-field").siblings(":not(.show_if_"+t+")").find("select").prop("selectedIndex",0))}),jQuery(".s2_payment_type").trigger("change"),jQuery(document.body).on("woocommerce_variations_added woocommerce_variations_loaded",function(e){jQuery(".s2_payment_type").trigger("change")})});